# Контроллер для формировании страницы из разных блоков-слоёв

## Установка через composer
```
	{
		"require":{
			"infrajs/controller":"~1"
		}
	}
```

## Использование
В корне проекта настроить [.htaccess](https://github.com/infrajs/router) и создать файл с описанием слоёв сайта 
index.json
```
{
	"tpl":["Привет"]
}
```

## Работа со ссылками
Клик по ссылкам автоматическуи обрабатывается контроллером. 
Для отмены нужно у ссылки добавить атрибут data-crumb="false" event.preventDefault() если переход по ссылке не требуется нужно также выполнить самостоятельно или onclick="return false".


## Кэш главной страницы
Можно добавить условие для кэширования главной страницы
Event::handler('Controller.parsed', function () {
	Controller::$parsed .= 'Критерий нового кэша';
});